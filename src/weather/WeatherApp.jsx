import React, { useState } from 'react'
import axios from 'axios';
import './WeathrApp.css';
import Button from '@mui/material/Button';


const WeatherApp = () => {

    const [cityName, setcityName] = useState();
    const [ButtonStyle, setButtonStyle] = useState('none');
    const [temp, setTemp] = useState();
    const [humidity, setHumidity] = useState();
    const [pressure, setPresure] = useState();
    const [clouds, setclouds] = useState();
    const [weather, setWeather] = useState();



    return (
        <>
            <div className='container'>
                <div>
                    <h1 className='container__heading'>Get the current weather data of your city.</h1>
                </div>
                <div className='weather__container'>
                    <div className='container__input'>
                        <input
                            onChange={(event) => {
                                setcityName(event.target.value)
                            }}
                            className="weather__input"

                            type="text"
                            value={cityName}
                            placeholder='Enter The city Name ' />
                        <br />

                        <div className='buttons__container'>
                            <Button variant="contained" onClick={() => {
                                setButtonStyle('block');
                                async function getUser() {
                                    try {
                                        const response = await axios.get(`https://api.openweathermap.org/data/2.5/weather?q=${cityName}&appid=42b46c2b02b2fbe3d4648a51cb816c9c&units=metric`);
                                        setTemp(response.data.main.temp);
                                        setHumidity(response.data.main.humidity);
                                        setPresure(response.data.main.pressure);
                                        setclouds(response.data.clouds.all);
                                        setWeather(response.data.weather[0].main)
                                    } catch (error) {
                                        console.error(error);
                                    }
                                }
                        
                                getUser();

                            }}>get the weather Data</Button>

                            <Button variant="contained" onClick={() => {
                                setButtonStyle('none');
                                setcityName('');

                            }}>reset</Button>
                        </div>



                    </div>
                </div>

                <div className='weatherdata__container'>
                    <div style={{display: ButtonStyle}} className='weather__information'>
                        <p className='data__heading'>The current weather data of {cityName} is : </p>
                        <ul className='data__list'>
                            <li className='list__component'>Temp : {temp}Â°C </li>
                            <li className='list__component'>Humidity : {humidity}</li>
                            <li className='list__component'>Presuure : {pressure}</li>
                            <li className='list__component'>Clouds : {clouds}</li>
                            <li className='list__component'>Weather : {weather}</li>
                        </ul>

                    </div>
                    
                </div>

            </div>

        </>
    )
}

export default WeatherApp



















































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































